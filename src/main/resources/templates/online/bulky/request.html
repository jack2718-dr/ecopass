<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport"
	content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0, minimum-scale=1.0" />
<title>대형폐기물 : 온라인신청</title>
<link rel="stylesheet" href="https://code.jquery.com/ui/1.8.18/themes/base/jquery-ui.css" type="text/css" />
<script type="text/javascript" src="/js/jquery.min.js"></script>
<script type="text/javascript" src="/js/jquery-ui.min.js"></script>
<link rel="stylesheet" href="/css/magic.min.css" />
<script src="/js/exif.js"></script>

<style>
@import url(/css/nanumgothic.css);
@import url(/css/jejugothic.css);
@import url(/css/hanna.css);
html,body {width:100%; min-width:300px; margin:0; padding:0; font-family:'Nanum Gothic' !important; background:white; color:#555; 
	font-size:14px; font-weight:normal; }
div {box-sizing:border-box; } /* height:100%;  */
form {box-sizing:border-box; }
.slow {transition:all .2s; -webkit-transition:all .2s; -moz-transition:all .2s; -o-transition:all .2s; }
.rm_slow {transition: none; -webkit-transition:none; -moz-transition:none; -o-transition:color 0 ease-in; }
input {font-family:'Nanum Gothic'; background:none; border:none; box-sizing:border-box; padding:0 10px; }
textarea {line-height:20px; box-sizing:border-box; padding:10px; font-family:'Nanum Gothic'; border:none; resize:none; }
.non_draggable {-ms-user-select: none; -moz-user-select: -moz-none; -khtml-user-select: none; -webkit-user-select:none; 
	user-select: none; }
.clear_both {height:1px; clear:both; }

.cb {display:none; }
.cb2 {display:none; }
.cb_label {padding:0 9px; background:url(/img/cb.png) no-repeat; cursor:pointer; vertical-align:middle; }
input[type="checkbox"]:checked + .cb_label {background:url(/img/cb_on.png) no-repeat; }

#paging {width:100%; height:30px; line-height:30px; margin:20px 0 80px 0; text-align:center; }
#paging .page {padding:5px 8px; margin:0 1px; background:white; border:1px solid #ccc; cursor:pointer; }
#paging .page_on {background:#103E93; color:white; cursor:default; }

/* 모바일 */
@media (max-width:1200px) {
	.cb_label {padding:2px 9px; }
}
    
</style>

<script>/*<![CDATA[*/


	// 날짜 간격 사이 날짜 목록 구하기
	function getDateRange(startDate, endDate, listDate){

		var dateMove = new Date(startDate);
		var strDate = startDate;
		if (startDate == endDate)
		{
			var strDate = dateMove.toISOString().slice(0, 10);
			listDate.push(strDate);
		}

		else
		{
			while (strDate < endDate)
			{
				var strDate = dateMove.toISOString().slice(0, 10);
				listDate.push(strDate);
				dateMove.setDate(dateMove.getDate() + 1);
			}
		}

		return listDate;
	};

	// 위경도좌표 얻기
	function getLatLng(coordiX, coordiY) {
		if (!coordiX || !coordiY)
			return [ 127.09304875538659, 37.60626176888083 ];

		var utm = "+proj=tmerc +lat_0=38 +lon_0=127.5 +k=0.9996 +x_0=1000000 +y_0=2000000 +ellps=GRS80 +units=m +no_defs";
		var wgs84 = "+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs";
		return proj4(utm, wgs84, [ coordiX, coordiY ]);
	}

	// 내일날짜부터 선택가능
	function setNotPrev(t) {
		$(t).bind(
				'change',
				function() {
					var v = $(t).val();
					var date = new Date(v.substring(0, 4) * 1, v
							.substring(5, 7) * 1 - 1, v.substring(8) * 1);
					date.setDate(date.getDate() + 1);
					if (date.getTime() < new Date().getTime()) {
						alert('배출예약일을 과거로 설정할 수 없습니다.');
						$(t).val(getFuture(0));
					}
				});
	}

	// 전화번호 자동 하이픈 입력
	function autoHypenPhone(t) {
		str = $(t).val().replace(/[^0-9]/g, '');
		var tmp = '';
		if (str.length < 4) {
			$(t).val(str);
			return;
		} else if (str.length < 7) {
			tmp = str.substr(0, 3) + '-' + str.substr(3);
			$(t).val(tmp);
			return;
		} else if (str.length < 11) {
			tmp += str.substr(0, 3) + '-' + str.substr(3, 3) + '-'
					+ str.substr(6);
			$(t).val(tmp);
			return;
		} else {
			tmp += str.substr(0, 3) + '-' + str.substr(3, 4) + '-'
					+ str.substr(7);
			$(t).val(tmp);
			return;
		}
	}

	function getIsMobile() {
		var isMobile = {
			Android : function() {
				return navigator.userAgent.match(/Android/i) == null ? false
						: true;
			},
			BlackBerry : function() {
				return navigator.userAgent.match(/BlackBerry/i) == null ? false
						: true;
			},
			IOS : function() {
				return navigator.userAgent.match(/iPhone|iPad|iPod/i) == null ? false
						: true;
			},
			Opera : function() {
				return navigator.userAgent.match(/Opera Mini/i) == null ? false
						: true;
			},
			Windows : function() {
				return navigator.userAgent.match(/IEMobile/i) == null ? false
						: true;
			},
			any : function() {
				return (isMobile.Android() || isMobile.BlackBerry()
						|| isMobile.IOS() || isMobile.Opera() || isMobile
						.Windows());
			}
		};
		return isMobile;
	}

	function getPhoneForm(str) {
		var str = str.replace(/[^0-9]/g, '');
		var tmp = '';
		if (str.substring(0, 2) == '02') {
			if (str.length < 3) {
				return str;
			} else if (str.length < 6) {
				tmp = str.substr(0, 2) + '-' + str.substr(2);
				return tmp;
			} else if (str.length < 10) {
				tmp += str.substr(0, 2) + '-' + str.substr(2, 3) + '-'
						+ str.substr(5);
				return tmp;
			} else {
				tmp += str.substr(0, 2) + '-' + str.substr(2, 4) + '-'
						+ str.substr(6);
				return tmp;
			}
		} else {
			if (str.length < 4) {
				return str;
			} else if (str.length < 7) {
				tmp = str.substr(0, 3) + '-' + str.substr(3);
				return tmp;
			} else if (str.length < 11) {
				tmp += str.substr(0, 3) + '-' + str.substr(3, 3) + '-'
						+ str.substr(6);
				return tmp;
			} else {
				tmp += str.substr(0, 3) + '-' + str.substr(3, 4) + '-'
						+ str.substr(7);
				return tmp;
			}
		}
	}

	// 숫자만 입력
	function onlyNumber(t) {
		$(t).val($(t).val().replace(/[^0-9]/g, ''));
	}

	function nonHangul(t) {
		$(t).val($(t).val().replace(/[ㄱ-ㅎ|ㅏ-ㅣ|가-힣]/g, ''));
	}

	function getFirstDate() {
		var date = new Date();
		//date.setMonth(0);
		date.setDate(1);
		date = date.getFullYear() + '.'
				+ String('0' + (date.getMonth() + 1)).slice(-2) + '.'
				+ String('0' + date.getDate()).slice(-2);
		return date;
	}

	function getTodayDate() {
		var date = new Date();
		date = date.getFullYear() + '.'
				+ String('0' + (date.getMonth() + 1)).slice(-2) + '.'
				+ String('0' + date.getDate()).slice(-2);
		return date;
	}

	function getFuture(days) {
		var date = new Date();
		date.setDate(date.getDate() + days);
		date = date.getFullYear() + '.'
				+ String('0' + (date.getMonth() + 1)).slice(-2) + '.'
				+ String('0' + date.getDate()).slice(-2);
		return date;
	}

	function setDatePicker(t) {
		$(t).datepicker(
				{
					dateFormat : 'yy.mm.dd',
					prevText : '이전 달',
					nextText : '다음 달',
					monthNames : [ '1월', '2월', '3월', '4월', '5월', '6월', '7월',
							'8월', '9월', '10월', '11월', '12월' ],
					monthNamesShort : [ '1월', '2월', '3월', '4월', '5월', '6월',
							'7월', '8월', '9월', '10월', '11월', '12월' ],
					dayNames : [ '일', '월', '화', '수', '목', '금', '토' ],
					dayNamesShort : [ '일', '월', '화', '수', '목', '금', '토' ],
					dayNamesMin : [ '일', '월', '화', '수', '목', '금', '토' ],
					showMonthAfterYear : true,
					yearSuffix : '년',
					setDate : new Date()
				});
	}

	function calculus(end_ymd){    
		
		 
	    var yyyy = end_ymd.substring(0,4);
	    var mm = end_ymd.substring(4,6);
	    var dd = end_ymd.substring(6);              
	    return new Date(yyyy, mm-1, dd, 23, 59, 59);
	    
	}

	
	/**
	 * 두 날짜의 차이를 일자로 구한다.(조회 종료일 - 조회 시작일)
	 *
	 * @param val1 - 조회 시작일(날짜 ex.2002-01-01)
	 * @param val2 - 조회 종료일(날짜 ex.2002-01-01)
	 * @return 기간에 해당하는 일자
	 */
	function calDateRange(exhaustDate) {

		// FORMAT을 포함한 길이 체크
		/* if (val1.length != 10 || val2.length != 10)
		    return null;



		// FORMAT이 있는지 체크
		if (val1.indexOf(FORMAT) < 0 || val2.indexOf(FORMAT) < 0)
		    return null; */
		var date = new Date();
		var year = exhaustDate.substring(0, 4);
		var month = exhaustDate.substring(4, 6);
		var day = exhaustDate.substring(6, 8);

		// 년도, 월, 일로 분리
		var start_dt = [ year, month, day ];
		var end_dt = [ date.getFullYear(), date.getMonth() + 1, date.getDate() ];

		// 월 - 1(자바스크립트는 월이 0부터 시작하기 때문에...)
		// Number()를 이용하여 08, 09월을 10진수로 인식하게 함.
		start_dt[1] = (Number(start_dt[1]) - 1) + "";
		end_dt[1] = (Number(end_dt[1]) - 1) + "";

		var from_dt = new Date(start_dt[0], start_dt[1], start_dt[2]);
		var to_dt = new Date(end_dt[0], end_dt[1], end_dt[2]);

		return (to_dt.getTime() - from_dt.getTime()) / 1000 / 60 / 60 / 24;
	}

	function getToday() {
		var date = new Date();
		var todayDate = date.getFullYear()
				+ String('0' + (date.getMonth() + 1)).slice(-2)
				+ String('0' + date.getDate()).slice(-2);
		return todayDate;
	}

	function alertError(jqXHR, exception) {
		var msg = '';
		if (jqXHR.status === 0) {
			msg = 'Not connect.\n Verify Network.';
		} else if (jqXHR.status == 404) {
			msg = 'Requested page not found. [404]';
		} else if (jqXHR.status == 500) {
			msg = 'Internal Server Error [500].';
		} else if (exception === 'parsererror') {
			msg = 'Requested JSON parse failed.';
		} else if (exception === 'timeout') {
			msg = 'Time out error.';
		} else if (exception === 'abort') {
			msg = 'Ajax request aborted.';
		} else {
			msg = 'Uncaught Error.\n' + jqXHR.responseText;
		}
		alert(msg);
	}

	// checkbox 폼
	function getCbForm(id, onclick, padding, checked) {
		if (!onclick)
			onclick = '';
		if (!padding)
			padding = 0;
		if (!checked)
			checked = '';
		return '<input class="cb" type="checkbox" id="'+id+'" name="'+id+'" onchange="'+onclick+'" '+checked+'>'
				+ '<label class="cb_label" style="padding:'+padding+'px 9px;" for="'+id+'"></label>';
	}

	// 세자리마다 콤마
	function comma(x) {
		return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
	}

	//이미지용량 확인
	function getImageSize(target) {
		var browser = '';
		var ieName = navigator.appName;
		var agent = navigator.userAgent.toLowerCase();

		if (ieName == 'Microsoft Internet Explorer') { // ie 10 or lower
			browser = 'msie';
		} else {
			if (agent.search('trident') > -1)
				browser = 'ie11'; // trident/.*rv:
			else if (agent.search('edge/') > -1)
				browser = 'ie12'; // edge/
		}

		// 브라우저 확인
		var fileSize = 0;
		if (browser == 'msie') {
			var oas = new ActiveXObject("Scripting.FileSystemObject");
			fileSize = oas.getFile(target.value).size;
		} else {
			fileSize = target.files[0].size;
		}

		return fileSize;
	}

	/* 쿠키설정관련 */
	function createCookie(name, value, days) {
		var expires;
		if (days) {
			var date = new Date();
			date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
			expires = "; expires=" + date.toGMTString();
		} else
			expires = "";
		document.cookie = name + "=" + value + expires + "; path=/";
	}

	function readCookie(name) {
		var nameEQ = name + "=";
		var ca = document.cookie.split(';');
		for (var i = 0; i < ca.length; i++) {
			var c = ca[i];
			while (c.charAt(0) == ' ')
				c = c.substring(1, c.length);
			if (c.indexOf(nameEQ) == 0)
				return c.substring(nameEQ.length, c.length);
		}
		return null;
	}

	function eraseCookie(name) {
		createCookie(name, "", -1);
	}

	function areCookiesEnabled() {
		var r = false;
		createCookie("testing", "Hello", 1);
		if (readCookie("testing") != null) {
			r = true;
			eraseCookie("testing");
		}
		return r;
	}
	/* 쿠키설정관련 */

	function isNullOrEmpty(val) {
		if (val == undefined || val == null || val == '')
			return true;

		return false;
	}
  /*]]>*/ </script>

<link type="text/css" rel="stylesheet" href="/css/online/request.css?after" />
</head>
<body>

	<!-- 헤더 -->
	
  



<style>

.subHeader {width:100%; height:30px; line-height:30px; background:#f5f5f5; display:none; }
.subHeader2 {width:100%; height:30px; padding:0 10px; margin:auto; text-align:right; }

.navbar-light {
    font-family: 'Nanum Gothic' !important;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;    
    
}

.kdl-navbar-button-list {
    padding-left: 4.563rem;
}

.kdl-button-white {
    padding-top: 0.5rem;
    padding-bottom: 0.5rem;
    padding-left: 1.2rem;
    padding-right: 1.2rem;
    background-color: white;
    font-size: 0.9rem;
    color: #333333;
    text-align: center;
    font-weight: bold;
    border-radius: 1rem;
    border: 1px solid #dddddd;    
    cursor: pointer;
}

.navbar-collapse .dropdown-menu {
    margin: 0;
    border-radius: 0;
    box-shadow: inset 0px -1px 0 0 #dddddd;
}

.navbar-collapse .dropdown-menu > .dropdown-item {
    padding-top: 1.25rem;
    padding-bottom: 1.25rem;
    border-bottom: 1px solid #dddddd;
}

#mainNav .navbar-nav .nav-item .nav-link:hover {
    color: #009c7f !important;
  }

@media(min-width: 992px) {
    .navbar-brand {
        padding-top: 1rem;
        padding-bottom: 1rem;
    }

    .navbar-collapse .dropdown-menu {
        margin: 0;
        border-radius: 0;
        box-shadow: inset 0px -1px 0 0 #dddddd;

    }

    .navbar-collapse .dropdown-menu > .dropdown-item {
        padding-top: 1.25rem;
        padding-bottom: 1.25rem;
        border-bottom: 1px solid #dddddd;
    }

    .navbar-collapse {
        /* height: 3.625rem; */
        height: 5rem;
    }

    .navbar-collapse ul, .navbar-collapse li, .navbar-collapse li a.nav-link {
        height: 100%;
    }

    .navbar-collapse li a.nav-link {
        display: inline-flex;
        align-items: center;
    }

    .navbar-collapse li a.nav-link:hover {
        border-bottom: 1px solid #009c7f;
    }
}

@media(max-width: 991px) {
	.dropdown-menu{
		display: block !important; 
	}
	
    .navbar-collapse .dropdown-menu {
        border-left: none;
        border-right: none;
    }

    .navbar-brand {
        position: absolute;
        top: 1rem;
        left: 32.5%;
        margin: 0;
        padding: 0;
    }  
    .navbar-brand > .img-fluid {
        height: 40px;
    }  

    .navbar-light .navbar-toggler {
        border-color: transparent !important;
    }

    .masthead {
        padding-top: 8rem !important;
        background: url("../img/img-backmain-mo@3x.png") !important;
        background-position: 58% 50%  !important;
        background-repeat: no-repeat !important;
        background-attachment: scroll !important;
        background-size: cover !important;
    }

    .kdl-main-title-wrapper, .kdl-main-banner-button-wrapper {
        padding-left: 2.5rem !important;
    }

    .kdl-main-title {
        font-size: 1.813rem !important;
        margin: 0 !important;
    }

    .kdl-button-primary, .kdl-button-primary:hover {        
        color: white;
        border-radius: 5rem;
        padding: 0.8rem 1.5rem;
        font-size: 1.438rem;
        font-weight: bold;
        box-shadow: inset 0px -4px 0 0 rgba(0, 0, 0, 0.08);
        font-weight: 500;
        font-size: 1.1rem !important;
    }
}
	
	.routeBrowserSetting {
		color: blue;
	}
	.routeBrowserSetting:hover,
	.routeBrowserSetting:focus {
		color: red;
		
	}
	

</style>


  <!-- Theme CSS - Includes Bootstrap -->
  <link href="/css/creative.css" rel="stylesheet"/>
  
  <!-- Noto Sans CJK KR Font -->
  <link href="https://fonts.googleapis.com/css?family=Noto+Sans+KR:100,300,500,700&amp;display=swap&amp;subset=korean"
    rel="stylesheet"/>


  <!-- <link href="/css/main.css" rel="stylesheet"/> -->
  
  <!-- Font Awesome Icons -->
  <link href="/vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css"/>
  
  <!-- Noto Sans CJK KR Font -->
  <link href="https://fonts.googleapis.com/css?family=Noto+Sans+KR:100,300,500,700&amp;display=swap&amp;subset=korean"
    rel="stylesheet"/>
    
  <!-- <link href="/css/main.css" rel="stylesheet"/> -->
  
  <!-- Bootstrap core JavaScript -->
  <!-- <script src="/vendor/jquery/jquery.min.js"></script> -->
  <script type="text/javascript" src="/js/jquery.min.js"></script>
  <script type="text/javascript" src="/js/jquery-ui.min.js"></script>

  

  <!-- Plugin JavaScript -->
  <script src="/vendor/jquery-easing/jquery.easing.min.js"></script>

<!-- Navigation -->

							<!-- 상단바 인터넷 익스플로러 호환성 안내 -->
  <div id="topbar-IE" style="width: 100%; background: #fafad2; height: 30px; position: fixed; z-index: 1030; text-align:center; padding-top: 5px;">
  	<span class="routeBrowserSetting" onclick="routeBrowserSetting()" style="cursor:pointer; font-family: 'Nanum Gothic',sans-serif;">
  		[안내] Internet Explorer로 접속하셨습니다. 원활한 결제 기능을 이용하시기 위해 호환성 설정이 필요합니다. (자세히)
  	</span>
  </div>					<!-- 상단바 인터넷 익스플로러 호환성 안내 END  -->
  
  <nav class="navbar navbar-expand-lg navbar-light py-3 py-lg-0" id="mainNav">
    <div class="container">
      <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
        data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false"
        aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <a class="navbar-brand" href="/">
        <img src="/img/logo-header.png" alt="logo" class="img-fluid"
          srcset="/img/logo-header.png 1x, /img/logo-header@2x.png 2x, /img/logo-header@3x.png 3x"/>
      </a>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto my-2 my-lg-0">
          <li class="nav-item">
            <div class="dropdown h-100">
                <a class="nav-link" href="javascript:;" id="dropdownMenuButton"  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">이용안내</a>
                <div class="dropdown-menu py-0" aria-labelledby="dropdownMenuButton">
                  <!-- <a class="dropdown-item" onclick="goTarget('intro','intro')">서비스 소개</a> -->
                  <a class="dropdown-item" onclick="goTarget('intro','guide')">이용방법</a>
                  <a class="dropdown-item" onclick="goTarget('intro','fees')">품목별 수수료</a>
                  <a class="dropdown-item" onclick="goTarget('intro','center')">재활용센터</a><a class="dropdown-item" onclick="goTarget('intro','map')">수거차량 실시간 위치</a>
                </div>
            </div>          
          </li>
          <li class="nav-item">
           <!--  <a class="nav-link" href="#">온라인신청</a> -->
            <div class="dropdown h-100">
                <a class="nav-link" href="javascript:;" id="dropdownMenuButton"  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">온라인신청</a>
                <div class="dropdown-menu py-0" aria-labelledby="dropdownMenuButton">
                  <a class="dropdown-item" onclick="goTarget('online','request')">배출신청</a>
                  <a class="dropdown-item" onclick="goTarget('online','reqCancel')">배출취소</a>
                  <a class="dropdown-item" onclick="goTarget('online','lookup')">신청결과조회</a>
                </div>
            </div>  
          </li>
          
          <!-- <li class="nav-item d-lg-none">
            <div onclick="location.href='/imageViewer.do'" class="nav-link kdl-button-white rounded-0">실시간 폐기물 현황</div>
          </li> -->
        </ul>
      </div>
      <div class="d-none d-lg-flex kdl-navbar-button-list align-items-center">
      
        <!-- <div class="kdl-button-white" onclick="location.href='/imageViewer.do'">실시간 폐기물 현황</div> -->
      </div>
    </div>
  </nav> 
<div class="subHeader" id="subNav">
  <div class="subHeader2"></div>
</div>



  <!-- Custom scripts for this template -->
  <script src="/js/creative.js"></script>
  <script src="/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>  
  
  
<script>/*<![CDATA[*/

var userAgent = window.navigator.userAgent;
var isChrome = userAgent.indexOf('Chrome');
var isChromeMobile = userAgent.indexOf('CriOS');
var isSamsungBrowser = userAgent.indexOf('SamsungBrowser');
var isWindows = userAgent.indexOf('Windows NT');
var isEdge = userAgent.indexOf('Edge');
var isIE = userAgent.indexOf('Trident');


var is_show = false;

init_mheader();



// 초기화
function init_mheader() {
	$('.pop_menu2').bind('click', function(e) { e.stopPropagation(); });
	$('.addr_sgg').html('동대문구');
	
	
	// 상단바 익스플로러 호환성 안내
	var getTopBar = document.getElementById('topbar-IE');
	var getMainNav = document.getElementById('mainNav');
	
	if(isIE > -1){
		// 익스플로러인 경우
		getMainNav.style.top = "30px";
		$('#subNav').css('margin-top', '30px');
		
	}else{
		getTopBar.style.display = "none"; // 익스플로러가 아닌 경우
		getMainNav.style.top = "0px";
	}

}

// 페이지명
function init_subHeader(subTitle) {
  $('.subHeader2').html(subTitle);
  $('.subHeader').show();
}

// 메뉴 보이기
function show_pop_menu() {
  if(! is_show) {
    $('.pop_menu').show();
    setTimeout(function() { $('.pop_menu').css({'opacity':1}); }, 200);
  } else {
    $('.pop_menu').css({'opacity':0});
    $('.pop_menu').hide();
  }

  is_show = !is_show;
}

// 해당 페이지로 이동
function goTarget(base, url) {
	if(base != 'cs') {
		location.href = '/'+base+'/'+url+'.do';
	} else {
		location.href = '/bbs.do?t='+url;
	}
}

function routeBrowserSetting(){
	var win = window.open("https://www.allatpay.com/servlet/AllatBizV2/support/SupportNoticeCL?menu_id=m040600&amp;type=detail&amp;page=1&amp;seq_no=7508", '_blank');
	win.focus();
}

  /*]]>*/ </script>
	<!-- 본문 -->
	<div class="box_request">
		<div class="box_request2">
			
<style>
.leftMenu {width:250px; min-height:600px; line-height:60px; float:left; }
.leftMenu .title {width:100%; height:70px; line-height:70px; text-align:center; background:#1A3C70; color:white; font-size:26px; }
.leftMenu .list {width:100%; margin-top:10px; }

.leftMenu .list .item {width:100%; height:45px; line-height:45px; padding:0 20px; border-bottom:1px solid #E3E4E5; cursor:pointer; font-size:16px; }
.leftMenu .list .item:hover {text-decoration:underline; }
.leftMenu .list .item_on {background:#EFF0F4; color:#103E9F; font-weight:bold; }

@media (max-width:1200px) {
  .leftMenu {display:none; }
}

</style>

<div class="leftMenu">
  <div class="title"></div>
  <div class="list"></div>
</div>

<script>/*<![CDATA[*/

function init_leftMenu(n, now) {
  var title;
  var menus;
  var base;
  var urls;
  if(n == 0) {
    title = '이용안내';
    menus = [/* '서비스 소개', */'이용방법','품목별 수수료','재활용센터'];
    base = 'intro';
    urls = [/* 'intro', */'guide','fees','center'];
  } else if(n == 1) {
    title = '온라인신청';
    menus = ['배출신청','배출취소','신청결과조회'];
    base = 'online';
    urls = ['request','reqCancel','lookup'];
  } else if(n == 2) {
    title = '고객민원';
    menus = ['공지사항','FAQ'];
    base = 'cs';
    urls = ['notice','qna'];
  }

  $('.leftMenu .title').html(title);
  var tmp = '';
  for(var i=0; i<menus.length; i++) {
    var selected = ''; if(urls[i].indexOf(now)>-1) selected = 'item_on';
    tmp += '<div class="item '+selected+'" id="leftMenu'+i+'" onclick="goTarget(\''+base+'\',\''+urls[i]+'\');">'+menus[i]+'</div>';
  }
  $('.leftMenu .list').html(tmp);
}

  /*]]>*/ </script>


			<div class="rightContent">
				<div class="main_title">배출신청</div>

				<!-- 배출자정보 -->
				<div class="main_title2">배출자 정보</div>
				<div class="box_info">
					<form id="requestDefaultVO" class="tb_info form_request" action="/online/pay.do" method="post" onsubmit="return checkVali();">
						
						<table>
							<tr>
								<td class="Lplace"><span class="span_em">*</span> 이름</td>
								<td class="Iplace"><input class="Iname" type="text" name="req_name" id="req_name" placeholder="이름" maxlength="50" oninput="numberMaxLength(this);"/></td>
							</tr>
							<tr>
								<td class="Lplace"><span class="span_em">*</span> 배출주소</td>
								<td class="Iplace"><div class="input_wrap2">
										<input class="Iaddr" type="text" name="tmp_addr" placeholder="배출주소" readonly="readonly"/>
									</div>
									<div class="bt_signup" onclick="searchAddr()">검색</div></td> 
							</tr>
							<tr>
								<td class="Lplace"><span class="span_em">*</span> 상세주소</td> 
								<td class="Iplace"><input type="text" class="address2" placeholder="상세주소" name="addr_dh" maxlength="50" oninput="numberMaxLength(this);"/><br/></td>
							</tr>
							<tr>
								<td class="Lplace"><span class="span_em">*</span> 상세배출위치</td> 
								<td class="Iplace"><input type="text" class="address2" placeholder="상세배출위치" name="addr_detail" maxlength="100" oninput="numberMaxLength(this);"/><br/>
									<small style="color:red;">
										※아파트의 경우, 몇 동 앞 분리수거장인지 꼭 기재해주세요.<br/>
										예시) 102동 앞 재활용장, 정문 앞, 건물 뒤 등 
									</small>
								</td>
							</tr>
							
							<tr>
								<td class="Lplace"><span class="span_em">*</span> 행정동 선택</td>
								<td class="Iplace">
									<select name="addr_hemd" id="addr_hemd">
										<option value="" >선택하세요</option>
									</select>
								</td>
							</tr>
							
							<tr>
								<td class="Lplace"><span class="span_em">*</span> 휴대전화 번호</td>
								<td class="Iplace">
									<div class="row" style="margin:0;">
										<div style="width : 301px;" id="sms_div">
											<input class="Iphone" name="req_phone" id="req_phone" placeholder="휴대전화 번호 입력" onkeyup="autoHypenPhone(this)" maxlength="13"/>
											<input type="button" class="bt_signup bt_certi" style="float: right;" id="isSmsChk" value="인증번호 발송" onClick="sms();"/>
											<input type="hidden" name="is_check_phone" id="is_check_phone"/>
										</div>
										<div style="width : 300px; display: flex; height: 25px;">
											<input class="cb" type="checkbox" id="cb_sms" name="cb_sms"/>
											<label class="cb_label" for="cb_sms" style="margin-left: 10px; margin-top: 0.5em; padding: 9px; float:left"></label>
											<p style="margin-left: 5px; margin-top: 0.2em; font:"> SMS 서비스 수신동의</p>
										</div> 
									</div>
									<input type="hidden" id="smsChkType" value="request"/> <!-- 핸드폰인증번호 -->
									<small id="smsChkText" style="color:red;">※배출현황조회 혹은 취소 신청 시 필요하므로 정확히 입력하여 주시기 바랍니다.</small>
									
								</td>
							</tr>
							
							<tr id="smsNumRow">
								<td class="Lplace"><span class="span_em">*</span> 본인인증 번호</td>
								<td class="Iplace">
									<div class="row" style="margin:0;">
										<div style="width : 301px;" id="sms_div">
											<input class="Iphone" name="smsNumber" id="smsNumber" placeholder="인증 번호 입력" value=""/>
											<input type="button" class="bt_signup bt_certi" onClick="smsChk();"
												name="chk_sms" id="chk_sms" style="float: right;" value="확 인"/>
										</div>
									</div>
								</td>
							</tr>
							
							<tr>
								<td class="Lplace"><span class="span_em">*</span> 배출예정일</td>
								<td class="Iplace">
								
								<input type="text" class="Idate exhaust_date" name="exhaust_date"		
															readonly="readonly"/> 
															<img class="calendar" src="/img/calendar.png"									onclick="clickDp(event,'exhaust_date');" />
									
								<select name="exhaust_time" id="exhaust_time">
									<option value="" >선택하세요</option>
									<option value="100000" >오전 00:00 ~ 오전 09:00</option>
									<option value="120000" >오전 09:00 ~ 오전 11:00</option>
									<option value="140000" >오전 11:00 ~ 오후 13:00</option>
									<option value="235959" >오후 13:00 ~ 오후 23:59</option>
								</select>
								<br/>
								<small style="color:red;">※배출예정일은 수거일이 아닙니다. 수거는 배출일로부터 1~3일 소요됩니다.</small>
								</td>
							</tr>
						</table>
						
						<input type="hidden" name="addr_dosi"/>
						<input type="hidden" name="addr_sgg"/>
						<input type="hidden" name="addr_emd"/>
						<input type="hidden" name="addr_bg"/>
						<input type="hidden" name="positionx"/>
						<input type="hidden" name="positiony"/>
						<input type="hidden" name="codenum" id="codenum"/>
						<input type="hidden" name="bemd_code"/>
						<input type="hidden" name="smschk"/>
						<input type="hidden" name="req_orderno"/>
						<textarea name="jsonReqs" style="display: none;"></textarea>
					</form>
					<div class="policy">
						<div class="title">개인정보 수집 및 이용</div>
						<div class="content">
							"동대문구청 대형폐기물 배출·신고 홈페이지" 서비스는 개인정보보호법 제15조에 따라 아래와 같은 사항을 안내하고 동의를 받아<br/> 개인정보를 수집 및 이용합니다.<br/><br/>
							1. 수집 및 이용목적<br/>
							&nbsp;&nbsp;가. 대형폐기물 배출 신고 시스템을 통해 수집된 정보는 대형폐기물 배출에 따른 수거 및 처리 안내를 위한 목적으로 수집 및 이용됩니다.<br/>
							<br/>
							2. 수집하는 개인정보의 항목<br/>
							&nbsp;&nbsp;가. 수집항목 : 성명, 연락처, 배출장소, 결제정보<br/>
							&nbsp;&nbsp;나. 수수료 환급처리 과정에서 아래와 같은 결제 정보들이 수집될 수 있습니다.<br/>
							&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 계좌이체 시 : 은행명, 계좌번호 등<br/>
							<br/>
							3. 개인정보 보유 및 이용기간<br/>
							&nbsp;&nbsp;가. 보유목적 : 폐기물 배출정보 및 결제내역 확인<br/>
							&nbsp;&nbsp;나. 보유기간 : 1 년<br/>
							<br/>
							4. 개인정보의 수집·이용에 대한 거부 권리<br/>
							&nbsp;&nbsp;가. 정보주체는 개인정보의 수집 및 이용에 대한 동의를 거부할 권리가 있으며, 동의 거부 시에는 동대문구청 대형폐기물 배출 신고 서비스 이용이 제한됩니다.<br/>
							<br/>
						</div>
					</div>
					<div class="box_agree">
						<input class="cb2" type="checkbox" id="cb_policy" name="cb_policy"/>
						<label class="cb_label" for="cb_policy"></label>
						&nbsp; 위 개인정보 수집 및 이용에 동의합니다.<br/>
						
					</div>
					 
					<div class="policy">
		        	<div class="title">[수집한 개인정보의 제3자 제공 및 취급 위탁 동의]</div>
		        	<div class="content agreeBx">
		            <p>동대문구 대형폐기물 배출신고 홈페이지에서는 제3자 제공 및 개인정보 취급 위탁을 하고 있습니다.</p>
		            
		            <strong>○ 동대문구 대형폐기물 배출신고 홈페이지 서비스 제공을 위해 개인정보를 위탁하는 기관</strong>
		            <div>
		            	<table summary=" 개인정보를 위탁하는 기관에 대한 수탁업체, 위탁업무내용, 제공하는 개인정보의 항목, 제공받는자의 개인정보 보유 및 이용이간 표입니다." >
		                    <thead>
		                	<tr>
		                    	<th scope="col">수탁업체</th>
		                        <th scope="col">위탁업무내용</th>
		                        <th scope="col">제공하는 개인정보의 항목</th>
		                        <th scope="col">제공받는자의 개인정보 보유 및<br/>이용기간</th>
		                    </tr>
		                    </thead>
		                    <tbody>
		                    <tr>
		                    	<td>제일환경<br/>용마산업<br/>동양용역</td>
		                        <td>폐기물수거</td>
		                        <td>성명<br/>핸드폰번호<br/>배출주소</td>
		                        <td>대형폐기물 처리 위탁 운영 계약기간 동안</td>
		                    </tr>
		                    </tbody>
		                </table>
		                <br/>
		                	※정보주체는 개인정보의 제3자 제공에 대한 동의를 거부할 수 있으며, 동의 거부 시 서비스를 이용할 수 없습니다.
		            </div>
		            </div> 
				</div>	
				<div class="box_agree">
						<!-- <p style="color: orange; ">※정보주체는 개인정보의 제3자 제공에 대한 동의를 거부할 수 있으며, 동의 거부 시 서비스를 이용할 수 없습니다.</p> -->
						<input class="cb2" type="checkbox" id="cb_policy2" name="cb_policy2"/>
						<label class="cb_label" for="cb_policy2"></label>
						&nbsp; 개인정보의 제3자 제공 및 위탁에 동의합니다.(동의해야만 서비스 이용 가능)<br/>
						
				</div>	
				</div>

				<!-- 품목 목록 -->
				<div style="height: 35px;margin-top: 10px;font-weight: bold;font-size: 17px;">품목별 수수료 <span style="font-weight: bolder; font-size: 9pt;">※ 품목에 없는 경우, <span style="color:orange;">청소행정과 재활용팀(<span class="glyphicon glyphicon-phone-alt"></span>02-2127-4620)</span>에 문의 후 신고 바랍니다.</span></div>
				<div class="box_product"></div>
<!-- 				<div class="bt_smartlens" onclick="show_pop_smartlens(true)">
					<img src="/img/smartlens.png" />스마트렌즈 이용하기
				</div> -->
				<div class="clear_both"></div>

				<!-- 선택한 품목 -->
				<div class="main_title2">배출 목록</div>
				<div class="box_tb_selected">
					<table class="tb_selected"></table>
				</div>

				<div class="total_price">합계 : 0원</div>

			    <div class="box_bt">
					<div class="bt" onclick="if(confirm('배출신청을 취소하고 홈페이지로 이동하시겠습니까?')) location.href='/'">취소</div>
					<div class="bt bt2" onclick="$('.form_request').submit();">신청하기</div>
				</div>
			</div>

			<div class="clear_both"></div>
		</div>
	</div>

	<!-- 푸터  -->
	
<!-- <style>

.footer {width:100%; height:190px; border-top:1px solid #DFDFDF; }
.footer2 {width:1200px; height:100%; margin:auto; }

/* 모바일 */
@media (max-width:1200px) {
  .footer2 {width:100%; }
}

.footer .menu {width:100%; height:50px; line-height:50px; font-size:10px; border-bottom:1px solid #ddd; }
.footer .menu .item {padding:3px 15px; font-size:15px; cursor:pointer; }

.footer .logo {width:300px; height:140px; line-height:140px; float:left; text-align:center; font-weight:bold; font-size:20px; }
.footer .content {width:900px; height:90px; line-height:30px; float:left; margin-top:25px; font-size:14px; }

/* 모바일 */
@media (max-width:1200px) {
  .footer .menu {text-align:center; }
  .footer .menu .item {font-size:12px; }
  .footer .logo {width:100%; height:60px; line-height:60px; float:none; font-size:15px; }
  .footer .content {width:100%; height:75px; line-height:25px; padding:0 10px; margin-bottom:20px; float:none; margin-top:0px; font-size:11px; text-align:center; }
}

</style> -->

<style>

	/* Footer */
	.kdl-footer {
	    padding-top: 1.875rem;
	    padding-bottom: 1.875rem;
	}
	
	.kdl-footer-logo-wrapper {
	    text-align: center;
	    padding-bottom: 1.188rem;
	}
	
	.kdl-footer-terms {
	    padding-bottom: 1.75rem;
	    font-size: 0.875rem;
	    font-weight: bold;
	    text-align: center;
	    color: white;
	}
	
	.kdl-footer-contact {
	    font-weight: bold;
	    color: white;
	    text-align: center;
	    font-size: 0.75rem;
	}
	
	.bg-primary {
	    background-color: #009c7f !important;
	}
	
	footer{
		display: block;
		box-sizing: border-box;
		
		font-family: 'Noto Sans KR', sans-serif !important;
	    -webkit-font-smoothing: antialiased;
	    -moz-osx-font-smoothing: grayscale;
	    text-rendering: optimizeLegibility;
		
	}
</style>





  <!-- Footer -->
  <footer class="bg-primary kdl-footer">
    <div class="container">
      <div class="kdl-footer-logo-wrapper">
        <img src="/img/logo-footer.png" alt="logo-footer" class="img-fluid"
          srcset="/img/logo-footer.png 1x, /img/logo-footer@2x.png 2x, /img/logo-footer@3x.png 3x"/>
      </div>
      <div class="kdl-footer-terms">
      <!-- <span class="item" onclick="location.href='/policy/use.do'" style=" cursor: pointer;">이용약관</span>&emsp;|&emsp;
      <span class="item" onclick="location.href='/policy/info.do'" style=" cursor: pointer;">개인정보처리방침</span>&emsp;|&emsp;
      <span class="item" onclick="location.href='/bbs.do?t=qna'" style=" cursor: pointer;">고객센터</span> -->
      &emsp;|&emsp;<span class="item" onclick="location.href='http://www.ddm.go.kr/etc/infoProtect.jsp'" style=" cursor: pointer;">개인정보처리방침</span>&emsp;|&emsp;
      
      </div>
      <div class="kdl-footer-contact">
        <!-- Copyright © (주)앱솔. 사업자번호 : 391-87-01186 대표자 : 이승원  All Rights reserved.<br/><br/> -->
        Copyright© 2019 DONGDAEMUN-GU all rights reserved.<br/><br/>

        02565 서울시 동대문구 천호대로 145(용두동) 동대문구청 3층 청소행정과<br/>
                대표번호 : 02-2127-4620 / 팩스번호 : 02-3299-2629<br/>
        145, Cheonhodae-ro, Dongdaemun-gu, Seoul, Republic of Korea
      </div>
    </div>
  </footer>
  <script>/*<![CDATA[*/

  init_mfooter();

  // 초기화
  function init_mfooter() {

    
  }

    /*]]>*/ </script>


	<!-- 상세선택창  -->
	
<style>

    /*상세선택창*/
    /*상세선택창*/
    .pop_detail {width:100%; height:100%; position:fixed; left:0; top:0; display:none; z-index: 9999;}
    .pop_detail2 {width:712px; height:520px; background:white; position:fixed; left:50%; top:50%;
    	margin:-260px -361px; border:1px solid #333; }
    .pop_detail .top {width:100%; height:30px; line-height:30px; background:#1A3C70; }
    .pop_detail .top .close {width:30px; height:30px; float:right; margin-right:10px; cursor:pointer;
    	text-align:center; }
    .pop_detail .top .close img {height:17px; vertical-align:middle; }
    .pop_detail .content {width:100%; height:100%; padding:30px 20px; margin-top:-30px; }
    .pop_detail .pop_title {width:100%; height:35px; line-height:35px; margin-top:10px; font-weight:bold;
    	font-size:17px;  overflow:hidden; }
    .pop_detail input{float: right; border: 1px solid #999; padding: 3px; margin-top: 13px; height: 25px; widht: 30%; font-size: 10pt; }
    .tb_detail_t {width:95%; margin:20px auto 0 auto; border-top:1px solid #333; }
    .tb_detail_t table {width:100%; border-collapse:collapse; }
    .tb_detail_t td {height:25px; text-align:center; background:#f5f5f5; border:none; font-weight:bold;
    	box-sizing:border-box; }
    .tb_detail {width:95%; height:300px; margin:auto; border-bottom:1px solid #333; overflow:auto; }
    .tb_detail table {width:100%; border-collapse:collapse; }
    .tb_detail td {height:35px; border:1px solid #ddd; box-sizing:border-box; text-align:center; }
    .tb_detail td:nth-child(1) {border-left:none; text-align:left; padding:0 10px; }
    .tb_detail td:nth-child(2) {text-align:left; padding:0 10px; }
    .tb_detail td:nth-child(4) {border-right:none; }
    .tb_detail .none {text-align:center !important; border:none; }
    .box_bt_detail {margin:30px auto; }

    /* 모바일 */
    @media (max-width:1200px) {
      .pop_detail2 {width:100%; height:100%; position:fixed; left:0; top:0; margin:0; }
      .pop_detail .content {padding:30px 10px; }
      .pop_detail .tb_detail_t td {padding:0 5px; font-size:11px; }
      .pop_detail .tb_detail td {padding:0 5px; font-size:11px; }
    }

</style>

          <!-- 상세품목팝업 -->
          <!-- 상세품목팝업 -->
          <div class="pop_detail">
            <div class="pop_detail2">
              <div class="top">
                <div class="close" onclick="selectCancle()"><img src="/img/close.png"/></div>
              </div>
              <div class="content">
                <div style="display: flex; border-bottom:1px solid #333;"><div class="pop_title">상세선택</div> <input type="text" id="filter" placeholder="품목 검색"/></div>
                <div class="tb_detail_t">
                  <table><tr><td>품목</td><td>규격</td><td>금액</td><td>선택</td></tr></table>
                </div>
                <input type="hidden" name="sub_seq"/>
                <div class="tb_detail"><table id="subject_table"></table></div>
                <div class="box_bt box_bt_detail">
                  <div class="bt" onclick="selectCancle()">취소</div>
                  <div class="bt bt2" onclick="detail_select()">확인</div>
                </div>
              </div>
            </div>
          </div>
          <!-- 상세품목팝업 -->
          <!-- 상세품목팝업 -->

          <script>/*<![CDATA[*/
          
          $(document).ready(function() {
              $("#filter").keyup(function() {
            	  var k = $(this).val();
            	  $(".tb_detail table tr").hide();
                  var temp = $(".tb_detail table tr td:nth-child(5n+1):contains('" + k + "')");

                  $(temp).parent().show();
              })
          })
          
          var subjects;

          // 상세선택창 보이기
          var selected_type;
          
          function show_pop_detail(is_show,type,point) {
            if(! is_show) {

            	$('.pop_detail').hide();

				$('body').css('overflow','auto');
            } else {
              if(selected_type != type && type!='스마트렌즈 검색결과') {
                $('.tb_detail table').html('<tr><td class="none" colspan="4">데이터를 불러오는중</td></tr>');

                var sendData = {'Sub_group':type};
                $.ajax({
                  url:'requestCall.do',
                  type:'post',
                  data:sendData,
                  contentType:'application/x-www-form-urlencoded',
                  dataType:'json',
                  success:function(data) { callback(data,point); }
                });
              }
              $('.pop_detail .pop_title').html(type);
              $('.pop_detail').show();
              $('body').css('overflow','hidden');
              selected_type = type;
            }
          }
          
			function selectCancle() {
				var checkbox = $('.cb');
				for(var i=0; i<checkbox.length; i++){
					var bool = checkbox[i].checked;
					if(bool){
						checkbox[i].checked = false;
					}
				}
				$('.pop_detail').hide();
				$('body').css('overflow','auto');
			}

          // 상세품목 세팅
          function callback(data, type) {
            subjects = data;
            var tmp = '';
            var sortSub = subjects.sort();
            for(var i=0; i<sortSub.length; i++) {
              var item = sortSub[i];	
              /* if(type != 'smartLens'){ */
	              tmp += '<tr><td>'+item['sub_name']+'</td><td>'+item['sub_standard']+'</td><td>'+comma(item['sub_price'])+'</td>'
	              +'<td>'+getCbForm('cb_sbj' + i)+'</td></tr>';
	              /* }else{
	            	  tmp += '<tr><td>'+item['sub_name']+'</td><td>'+item['sub_standard']+'</td><td>'+comma(item['sub_price'])+'</td>'
	                  +'<td>'+getCbForm('cb_sbj' + i)+'</td></tr>';
	              } */
              
            }
            $('.tb_detail table').html(tmp);

            if(sortSub.length == 0) {
              var none = '<tr><td colspan="4" style="text-align:center; border:none;">표시할 내용이 없습니다</td></tr>';
              $('.tb_detail table').html(none);
            } else {
              $(window).resize(function() {
                for(var i=1; i<=3; i++) {
                  var width = $('.tb_detail td:nth-child('+i+')').outerWidth();
                  $('.tb_detail_t td:nth-child('+i+')').css({'width':width});
                }
              }).resize();
            }

          }

          // 상세선택 완료
          function detail_select() {
            var anything_seleted = false;
            for(var i=0; i<subjects.length; i++) {
              var sbj = subjects[i];
              if($('#cb_sbj'+i).prop('checked')) { checkOverlapDetail(sbj); anything_seleted = true; }
            }

            if(! anything_seleted) { alert('선택된 품목이 없습니다.'); return; }

            updateSelected();
            show_pop_detail(false);
          }

          // 상세선택 중복확인
          function checkOverlapDetail(sbj) {
            var tmp_index = -1;
            for(var i=0; i<selected.length; i++) {
              if(selected[i]['sub_group'] == sbj["sub_group"] && selected[i]['sub_name'] == sbj["sub_name"]
              && selected[i]['sub_standard'] == sbj["sub_standard"] && selected[i]['sub_price'] == sbj["sub_price"] 
              && selected[i]['sub_seq'] == sbj["sub_seq"]) {tmp_index = i; }
              
            }

            if(tmp_index > -1) {
              selected[tmp_index]["sub_cnt"] += 1;
            } else {
              sbj["sub_cnt"] = 1;
              selected.push(sbj);
            }
          }

          // 선택목록 업데이트
          function updateSelected() {
        	  
            var total_price = 0;
            var tmp = '<tr class="title"><td style="display:none">NO</td><td>품목</td><td style="width:20%;">수량</td><td style="width:20%;">금액</td><td style="width:5%;">비고</td></tr>';
            for(var i=0; i<selected.length; i++) {
              var item = selected[i];
              $('input[name=btnCnt]').val((i*1));
              if(!isOnline){
	              tmp +=  '<tr><td style="display:none">'+item["sub_seq"]+'</td><td class="first_row">'+item["sub_name"]
	              +'<input type="text" class="form-control" style="display: inline; width: 200px; height: 25px; margin: 0 10px;" name="req_atc'+i+'" value="'+item["sub_standard"]+'"/>'
	              +'<button class="btn btn-light btn-sm atcChk" name="atcSetting'+i+'" style="border-color: #abacad66; margin-left: 10px;" onclick="atcSetting('+i+')">등록</button><input type="hidden" name="atcSeq'+i+'" value="'+item["sub_seq"]+'"/>'
	              +'</td><td><img src="/img/minus.png" onclick="oc_selected_num('+i+',-1)"> '
	              +'<span class="num_product">'+item["sub_cnt"]+'</span> <img src="/img/plus.png" onclick="oc_selected_num('+i+',1)"></td><td>'
	              +comma(item["sub_price"]*item["sub_cnt"])+'</td><td><img src="/img/delete.png" onclick="oc_selected_num('+i+',0)"></td></tr>';
	              total_price += item["sub_price"]*item["sub_cnt"];
              }else{
            	  tmp +=  '<tr><td style="display:none">'+item["sub_seq"]+'</td><td class="first_row">'+item["sub_name"]+'('+item["sub_standard"]+')</td><td><img src="/img/minus.png" onclick="oc_selected_num('+i+',-1)"> '
	              +'<span class="num_product">'+item["sub_cnt"]+'</span> <img src="/img/plus.png" onclick="oc_selected_num('+i+',1)"></td><td>'
	              +comma(item["sub_price"]*item["sub_cnt"])+'</td><td><img src="/img/delete.png" onclick="oc_selected_num('+i+',0)"></td></tr>';
	              total_price += item["sub_price"]*item["sub_cnt"];
              } 
              
              
            }
            
            if(selected.length == 0) tmp += '<tr><td colspan="4">표시할 내용이 없습니다.</td></tr>';
            $('.tb_selected').html(tmp);

            var radio = $('input[name="lgd_paytype"]:checked').val();
            // 총금액
            if(radio!="NONE"){
	            $('.total_price').html('합계 : '+comma(total_price)+'원');        	
            }else{
            	$('.total_price').html('합계 : 0원'); 
            }

          }
          
          
          
          function atcSetting(num){
        	  
        	  var i = 0;
        	  i = $('input[name=btnClickChk]').val();
        	  i *= 1;
        	  $('input[name=btnClickChk]').val(i+1);
        	  
        	  var req_atc = $('input[name=req_atc'+num+']').val(); 
        	  var sub_seq = $('input[name=atcSeq'+num+']').val();
        	  
        	  if(!atcs){
        		  atcs = sub_seq+"\|"+req_atc;
        	  }else {
	        	  atcs += "\||"+sub_seq+"\|"+req_atc; 
        	  }
        	  
        	  $('input[name=req_atc]').val(atcs);
        	  $('input[name=req_atc'+num+']').attr('disabled','disabled');
        	  $('button[name=atcSetting'+num+']').attr('disabled','disabled');
          }
          

          /*]]>*/ </script>



	

<script th:inline="javascript">/*<![CDATA[*/
	var mobileKeyWords = new Array('iPhone', 'iPod', 'BlackBerry','Android','Windows CE', 'LG', 'MOT'
		, 'SAMSUNG', 'SonyEricasson', 'MeeGo');
	var isMobile = false;
	for(var word in mobileKeyWords){
		if(navigator.userAgent.match(mobileKeyWords[word]) != null){
			isMobile = true;
			break;
		}
	}
	if(isMobile){
	}
	
	/**************************INSERT DB*****************************/
	/**************************INSERT DB*****************************/
	/**************************INSERT DB*****************************/
	
	var click = true;
  
  function allat_pay(){
	  
	  if (click) {
          click = !click;
          
          // 타이밍 추가
          setTimeout(function () {
              click = true;
          }, 10000)
          
       } else {
         alert('중복 신청을 방지하고자 연속 클릭이 금지되어 있습니다.\n 약 10초 이후 다시 눌러주십시오.');
         return false;
       }
	  
	  var oid = makeoid();
	  if(uploaded!="not"){
		  
		  fileList.push("true");
	  }
	  
	  var sendData = {jsonInfo:'',jsonReqs:'${jsonReqs}',oid:oid[0],fileList:fileList};
	  console.log("sendData : "+sendData);
	  $.ajax({
	     url:'/online/payInsertDB.do',
	     type:'post',
	     data:sendData,
	     contentType:'application/x-www-form-urlencoded',
	     dataType:'text',
	     success:function(data) { 
	    	 
	    	 if(data.indexOf('success') < 0){
	    		 alert('결제가 완료되지 않았습니다.\n 익스플로어(Internet Explorer)의 경우 \n 크롬으로 재시도 부탁드립니다.');
	    	 }
	    	 else{
	    	 	callback_pay(oid[0]); 
	    	 }
	    	 
	    	 },
	     error:function(jqXHR, exception) { alertError(jqXHR, exception); }
	  });
	 
  }
  
  function callback_pay(oid){
	  
	  var reqs = [];
	  

	  var total = "";
	  
	  var sub_seq;
	  var sub_name;
	  
	  if(reqs.length > 1){

		  sub_name = reqs[0].sub_name+" 외 "+(reqs.length-1)+"개";

	  }else{
		  sub_name = reqs[0].sub_name;
	  }
	  
	var log = "주문번호 :"+oid+", send FormData at Allat Pay";
	var sendData = {log:log,name:""};
	$.ajax({
		url:'/online/printLOG.do',
		data: sendData,
		type: "post",
		contentType:'application/x-www-form-urlencoded',
		success:function(data) { },
		error:function(jqXHR, exception) { alertError(jqXHR, exception); }
	});

  }
  
	// oid 만들기
	function makeoid() {
		var now = new Date();
		var years = now.getFullYear();
		var months = LPad(now.getMonth() + 1, 2, "0");
		var dates = LPad(now.getDate(), 2, "0");
		var hours = LPad(now.getHours(), 2, "0");
		var minutes = LPad(now.getMinutes(), 2, "0");
		var seconds = LPad(now.getSeconds(), 2, "0");
		var phoneNum = $('.form_request input[name=req_phone]').val();
		
		var random = "";
		for (var int = 0; int < 4; int++) {
			random += (Math.floor(Math.random() * 10) + "");
		}
		
		var timeValue = years + months + dates + hours + minutes + seconds; 
		var orderno = years + months + dates + "_"+ phoneNum.substr(4, 4) + "_" + random;
		
		var result = [];
		result[0] = "ecopassDDM_" + orderno;
		result[1] = timeValue;
		return result;
	}
	
	function LPad(digit, size, attatch) {
	    var add = "";
	    digit = digit.toString();

	    if (digit.length < size) {
	        var len = size - digit.length;
	        for (i = 0; i < len; i++) {
	            add += attatch; 
	        }
	    }
	    return add + digit;
	}
	
	/**************************INSERT DB*****************************/
	/**************************INSERT DB*****************************/
	/**************************INSERT DB*****************************/
  
	
	var isOnline = true;
	var selected = [];
	
	init_signup();
	
	// 초기화
	function init_signup(){
		
		init_subHeader('Home > 온라인신청 > 배출신청');
		init_leftMenu(1, 'request');
		
		$('.form_request input[name=exhaust_date]').val(getFuture(0));
  	setDatePicker($('.form_request input[name=exhaust_date]'));
  	setNotPrev($('.form_request input[name=exhaust_date]'));
		
    var menus = [[${categories}]];
			 
		var tmp = '';
		for(var i=0; i<menus.length; i++) {
			tmp += '<div class="item" onclick="show_pop_detail(true, \''+menus[i]+'\', \'online\')">'+menus[i]+'</div>';
		}
		tmp += '<div class="item" onclick="openSubjectPopup()">무상수거대상</div>';
		tmp += '<div class="clear_both"></div>';
		$('.box_product').html(tmp);
		
		// 선택한 목록 업데이트
		updateSelected();
		
	}
	
	//캘린더 클릭
	function clickDp(e, id) {
		$('.form_request input[name=' + id + ']').focus();
		e.preventDefault();
	}

	// 유효성 검사 - 글자 수
	function numberMaxLength(e) {
		if (e.value.length > e.maxLength) {
			e.value = e.value.slice(0, e.maxLength);
		}
	}

	// 유효성 검사
	function checkVali() {
				
		var types = [ 'req_name', 'tmp_addr', 'addr_detail', 'req_phone' ];
		var values = [];
		for (var i = 0; i < types.length; i++)
			values[types[i]] = $('.form_request input[name=' + types[i] + ']')
					.val();
		return checkVali2(values);
	}

	// 유효성 검사 2
	function checkVali2(values) {
		if (values['req_name'] == '') {alert('이름을 입력해주세요.');return false;}
		if (values['tmp_addr'] == '') {alert('주소와 상세주소를 모두 입력해주세요.');return false;}
		if (values['addr_detail'] == '') {alert('상세배출위치를 입력해주세요.');return false;}
		if (values['addr_dosi'] == '' || values['addr_sgg'] == '') {alert('주소를 검색후 다시 시도해주세요.');return false;}
		if (values['addr_emd'] == '' || values['addr_dh'] == '') {alert('주소를 검색후 다시 시도해주세요.');return false;}
		//if ($('#addr_hemd').val() == '') {alert('행정동을 선택해 주세요.');return false;}
		if (!$('#is_check_phone').val()) {alert('휴대폰 본인확인이 필요합니다.');return false;}
		if ($('#exhaust_time').val() == '') {alert('배출예정 시간을 선택해 주세요');return false;}
		if (!$('#cb_policy').prop('checked')) {alert('개인정보 수집 및 이용 약관에 동의해주세요.');return false;}
		if (!$('#cb_policy2').prop('checked')) {alert('개인정보 제 3자 제공 및 위탁 약관에 동의해주세요.');return false;}
		if (selected.length == 0) {alert('선택한 품목이 없습니다.');return false;}
		if ($("input:checkbox[id='cb_sms']").is(":checked")) {$('.form_request input[name=smschk]').val('O');}
		
		selected.forEach(function(data) {
			data['fees'] = data['req_price'] * data['req_cnt'];
			delete data['req_price'];
		});
		$('.form_request textarea[name=jsonReqs]')
				.val(JSON.stringify(selected));

		var req_orderno = makeoid();
		$('.form_request input[name=req_orderno]').val(req_orderno[0]);
		return true;
	}

	// 개수 조절
	function oc_selected_num(target_index, plus) {
		if (plus != 0) {
			selected[target_index]["sub_cnt"] += plus;
			if (selected[target_index]["sub_cnt"] < 1)
				selected.splice(target_index, 1);
		} else {
			selected.splice(target_index, 1);
		}

		updateSelected();
	}

	/********************** 배출자정보 **********************/
	/********************** 배출자정보 **********************/
	
	var timer = null;
	var timeCounter = 0;
	
	// 휴대폰 본인확인
	function sms() {
		//유효성 검사
		if ($('.form_request input[name=req_name]').val() == '') {alert('이름을 입력해주세요.');return;}
		if ($('.form_request input[name=req_phone]').val() == '') {alert('휴대폰 번호를 입력해주세요.');return;}
		if ($('.form_request input[name=req_phone]').val().length != 13) {alert('휴대폰 번호가 올바르지 않습니다.');return;}
		
		// 발송 반복제한
		$('#isSmsChk').css('display', 'none');
		timeCounter = 60;
		timer = setInterval(smsBtnTimer, 1000);

		//ajax 호출
		var req_phone = $('.form_request input[name=req_phone]').val();
		var req_name = $('.form_request input[name=req_name]').val();
		req_phone = req_phone.replace(/-/g, '');

		var sendData = {
			req_phone : req_phone,
			req_name : req_name
		};
		
		$.ajax({
			context : this,
			url : '/online/phoneChk.do',
			type : 'post',
			data : sendData,
			contentType : 'application/x-www-form-urlencoded',
			dataType : 'json',
			success : function(data) {
				this.callback_sms(data);
			},
			error : function(jqXHR, exception) {
				alert("fail");
				alertError(jqXHR, exception);
			}
		});
		
	}
	
	//타이머 생성
	function smsBtnTimer(){
		console.log(timeCounter);
		
		$('#smsChkText').text("※인증번호 재발송은 " + timeCounter + "초 후에 가능합니다.");
		timeCounter--;
		
		if(timeCounter<0){ //시간이 초과되었을 때
			clearInterval(timer);
			timer = null;
			$('#isSmsChk').css('display', 'block');
			$('#smsChkText').text("※배출현황조회 혹은 취소 신청 시 필요하므로 정확히 입력하여 주시기 바랍니다.");
		}
	}
	
	// 발송한 인증번호
	function callback_sms(data) {
		var number = data["tran_etc1"];
		$('.form_request input[name=codenum]').val(number); // 발송한 번호
	}
	
	// 인증번호 검증
	function smsChk(){
		var resNum = $('.form_request input[name=codenum]').val(); // 발송한 번호
		var reqNum = $('.form_request input[name=smsNumber]').val(); // 사용자가 입력한 번호
		
		if(reqNum==null || reqNum==''){
			alert("인증번호를 입력해주세요.");
		}else if(resNum == reqNum){
			$('#isSmsChk').css('display', 'block');
			$('#isSmsChk').val("인증 완료");
			$('#isSmsChk').attr('disabled', true); //인증번호 발송 버튼
			$('#smsChkText').css('display', 'none'); // 안내문
			$('#smsNumRow').css('display', 'none'); // 인증번호 입력칸
			
			$('#is_check_phone').val('true');
			
			$('#req_name').attr("readonly",true);		// input readonly
			$('#req_name').css('background-color', '#eaeaea');
			$('#req_phone').attr("readonly",true);
			$('#req_phone').css('background-color', '#eaeaea');
		}else{
			alert("잘못된 인증번호입니다. 다시한번 확인하여 주십시오.");
		}
	}

	function openSubjectPopup() {
		window.open("/online/subjectPop.do", "무료수거목록",
				"left=200, top=50, scrollbars=0, location=no, resizable=no");
	}

	//document.domain = "http://127.0.0.1:8080";
	//주소 검색
	function searchAddr() {
		window.open("/tool/jusoPopup.do", "pop",
				"width=570,height=420, scrollbars=yes, resizable=yes");
	}

	// 주소 가져온 후
	function jusoCallBack(addrDetail, entX, entY, siNm, sggNm, emdNm, lnbrMnnm,
			lnbrSlno, zipNo, bdNm, admCd, roadFullAddr, roadAddrPart1,
			roadAddrPart2, rn, buldMnnm, buldSlno) {
		
		console.log("addrDetail", addrDetail,"entX", entX, "entY", entY, "siNm", siNm, "sggNm", sggNm, "emdNm", emdNm, "lnbrMnnm", lnbrMnnm,
				"lnbrSlno", lnbrSlno, "zipNo", zipNo, "bdNm", bdNm, "admCd", admCd, "roadFullAddr", roadFullAddr,"roadAddrPart1",  roadAddrPart1,
				"roadAddrPart2", roadAddrPart2, "rn", rn, "buldMnnm", buldMnnm,"buldSlno",  buldSlno);
		
		if ( !entX || !entY || !siNm || !sggNm || !emdNm || !lnbrMnnm ||
				!lnbrSlno || !zipNo || !admCd || !roadFullAddr || !roadAddrPart1 ||
				!roadAddrPart2 || !rn || !buldMnnm || !buldSlno) {
			alert('오류가 발생했습니다. 다시 시도해주세요.');
			return;
		}

		if ('동대문구' == sggNm) {
			/* $('.form_request input[name=addr_dosi]').val(siNm);
			$('.form_request input[name=addr_sgg]').val(sggNm);
			$('.form_request input[name=addr_emd]').val(emdNm);
			$('.form_request input[name=addr_dh]').val(bdNm +" "+ addrDetail);	//상세주소
			if(lnbrSlno != '0') lnbrMnnm += '-'+lnbrSlno;
			$('.form_request input[name=addr_bg]').val(lnbrMnnm);
			$('.form_request input[name=tmp_addr]').val(siNm+' '+sggNm+' '+emdNm+' '+lnbrMnnm);
			$('.form_request input[name=positionx]').val(entX);
			$('.form_request input[name=positiony]').val(entY);
			$('.form_request input[name=bemd_code]').val(admCd); */

			$('.form_request input[name=addr_dosi]').val(siNm);
			$('.form_request input[name=addr_sgg]').val(sggNm);
			$('.form_request input[name=addr_emd]').val(emdNm);
			$('.form_request input[name=addr_dh]').val(
					roadAddrPart2 + " " + addrDetail); //상세주소
			$('.form_request input[name=addr_bg]').val(
					(buldSlno != '0') ? rn + " " + buldMnnm + "-" + buldSlno
							: rn + " " + buldMnnm);
			$('.form_request input[name=tmp_addr]').val(roadAddrPart1);
			$('.form_request input[name=positionx]').val(entX);
			$('.form_request input[name=positiony]').val(entY);
			$('.form_request input[name=bemd_code]').val(admCd);
			selectHemd(admCd);

		} else {
			alert("해당 사이트의 관할지역이 아닙니다. 지역을 확인 해 주십시오.");
			$('.form_request input[name=addr_detail]').val('');
			$('.form_request input[name=temp_addr]').val('');
			return;
		}
	}

	//
	function selectHemd(bemd_code) {

		var sendData = {
			'bemd_code' : bemd_code
		};
		$.ajax({
			url : 'selectBemd.do',
			type : 'post',
			data : sendData,
			contentType : 'application/x-www-form-urlencoded',
			dataType : 'json',
			success : function(data) {
				$('#addr_hemd').find("option").remove().end().append(
						"<option value=''>전체</option>");
				var list = data["list"];
				if (list.length == 1) {
					$('#addr_hemd').append(
							"<option selected='selected' value='"+list[0].hemd+"'>"
									+ list[0].hemd + "</option>");
				} else {
					$.each(list, function(i) {
						$('#addr_hemd').append(
								"<option value='"+list[i].hemd+"'>"
										+ list[i].hemd + "</option>");
					});
				}
			},
			error : function(jqXHR, exception) {
				alertError(jqXHR, exception);
			}
		});

	}
  /*]]>*/ </script>

</body>
</html>
